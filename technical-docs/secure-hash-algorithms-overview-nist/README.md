# Secure Hash Algorithms (SHA) - 암호화 해시 함수 패밀리

## 개요

- **출처**: [Wikipedia - Secure Hash Algorithms](https://en.wikipedia.org/wiki/Secure_Hash_Algorithms)
- **발표 기관**: 미국 국립표준기술연구소(NIST)
- **표준**: 연방정보처리표준(FIPS)
- **주제**: 암호화 해시 함수 패밀리의 발전사와 특성
- **키워드**: SHA, NIST, FIPS, 암호화 해시, 보안 표준

## 주요 내용 요약

### 1. SHA 패밀리 개요

**Secure Hash Algorithms**는 미국 국립표준기술연구소(NIST)에서 연방정보처리표준(FIPS)으로 발표한 암호화 해시 함수 패밀리입니다. 시간에 따라 보안성과 성능이 개선된 여러 버전이 개발되었습니다.

### 2. 주요 버전들

#### SHA-0 (1993년)
- **출력 크기**: 160비트
- **상태**: **폐기됨**
- **특징**: 
  - 1993년에 "SHA"라는 이름으로 처음 발표
  - 공개되지 않은 "중대한 결함"으로 인해 발표 직후 폐기
  - SHA-1로 대체됨
- **보안성**: 충돌 공격에 취약 (< 34비트 보안)

#### SHA-1 (1995년)
- **출력 크기**: 160비트
- **설계**: 미국 국가보안청(NSA)
- **목적**: 디지털 서명 알고리즘(DSA)의 일부
- **특징**:
  - MD5 알고리즘과 유사한 구조
  - SHA-0의 수정된 버전
- **보안성**: 
  - 2010년 이후 대부분의 암호화 용도에서 승인되지 않음
  - 충돌 공격 발견 (< 63비트 보안)
  - 2017년 Google에서 실제 충돌 사례 발표

#### SHA-2 패밀리 (2001년)
블록 크기가 다른 두 가지 주요 변형과 여러 축약 버전으로 구성:

**주요 변형**
- **SHA-256**: 32비트 워드 사용, 256비트 출력
- **SHA-512**: 64비트 워드 사용, 512비트 출력

**축약 버전들**
- **SHA-224**: SHA-256 기반, 224비트 출력
- **SHA-384**: SHA-512 기반, 384비트 출력
- **SHA-512/224**: SHA-512 기반, 224비트 출력 (2012년 추가)
- **SHA-512/256**: SHA-512 기반, 256비트 출력 (2012년 추가)

**설계 특징**
- Merkle-Damgård 구조 사용
- NSA에서 설계
- 현재까지 실용적 공격 없음

#### SHA-3 (2015년)
- **원래 이름**: Keccak
- **선정 과정**: 2012년 공개 경쟁을 통해 선택
- **설계팀**: NSA가 아닌 외부 설계자들 (벨기에 연구팀)
- **특징**:
  - SHA-2와 같은 해시 길이 지원
  - 내부 구조가 다른 SHA 패밀리와 크게 다름
  - 스펀지 구조(Sponge Construction) 사용
  - 확장 가능 출력 함수(XOF): SHAKE128, SHAKE256

### 3. SHA 함수들의 상세 비교

#### 기술적 사양 비교표

| 알고리즘 | 출력 크기 (비트) | 내부 상태 크기 (비트) | 블록 크기 (비트) | 라운드 수 | 보안 강도 (비트) | 발표년도 |
|----------|------------------|----------------------|------------------|-----------|------------------|----------|
| **SHA-0** | 160 | 160 (5×32) | 512 | 80 | < 34 (취약) | 1993 |
| **SHA-1** | 160 | 160 (5×32) | 512 | 80 | < 63 (취약) | 1995 |
| **SHA-224** | 224 | 256 (8×32) | 512 | 64 | 112 | 2004 |
| **SHA-256** | 256 | 256 (8×32) | 512 | 64 | 128 | 2001 |
| **SHA-384** | 384 | 512 (8×64) | 1024 | 80 | 192 | 2001 |
| **SHA-512** | 512 | 512 (8×64) | 1024 | 80 | 256 | 2001 |
| **SHA-512/224** | 224 | 512 (8×64) | 1024 | 80 | 112 | 2012 |
| **SHA-512/256** | 256 | 512 (8×64) | 1024 | 80 | 128 | 2012 |
| **SHA3-224** | 224 | 1600 (5×5×64) | 1152 | 24 | 112 | 2015 |
| **SHA3-256** | 256 | 1600 (5×5×64) | 1088 | 24 | 128 | 2015 |
| **SHA3-384** | 384 | 1600 (5×5×64) | 832 | 24 | 192 | 2015 |
| **SHA3-512** | 512 | 1600 (5×5×64) | 576 | 24 | 256 | 2015 |

#### 성능 비교 (Skylake 아키텍처 기준)

| 알고리즘 | 긴 메시지 (cpb) | 8바이트 (cpb) | 상대적 성능 |
|----------|-----------------|---------------|-------------|
| **MD5** (참고) | 4.99 | 55.00 | 가장 빠름 |
| **SHA-1** | 3.47 | 52.00 | 빠름 |
| **SHA-256** | 7.63 | 85.25 | 보통 |
| **SHA-512** | 5.06 | 135.50 | SHA-256보다 빠름 (64비트) |
| **SHA3-256** | 8.59 | 155.50 | SHA-256보다 느림 |
| **SHA3-512** | 15.88 | 164.00 | 가장 느림 |

### 4. 보안성 분석

#### 현재 보안 상태
- **SHA-0, SHA-1**: **취약** - 충돌 공격 발견, 사용 금지
- **SHA-2 패밀리**: **안전** - 현재까지 실용적 공격 없음
- **SHA-3**: **안전** - 다른 설계 원리로 SHA-2와 상호 보완

#### 공격 유형별 저항성

| 공격 유형 | SHA-1 | SHA-2 | SHA-3 |
|-----------|-------|-------|-------|
| **충돌 공격** | 취약 | 안전 | 안전 |
| **원상 공격** | 안전 | 안전 | 안전 |
| **길이 확장 공격** | 취약 | 취약 | 안전 |
| **사이드 채널 공격** | 주의 필요 | 주의 필요 | 상대적 안전 |

### 5. 표준화 및 인증

#### FIPS 표준 문서
- **FIPS PUB 180**: 원래 SHA (SHA-0)
- **FIPS PUB 180-1**: SHA-1
- **FIPS PUB 180-2**: SHA-1, SHA-256, SHA-384, SHA-512
- **FIPS PUB 180-4**: 현재 SHA-2 표준 (2012년 업데이트)
- **FIPS PUB 202**: SHA-3 표준 (별도 문서)

#### 검증 프로그램
**암호화 모듈 검증 프로그램(CMVP)**
- **운영**: 미국 NIST와 캐나다 통신보안청(CSE) 공동
- **목적**: FIPS 승인 보안 함수의 공식 검증
- **대상**: 모든 SHA 패밀리 알고리즘
- **중요성**: 정부 및 민간 부문에서의 공식 사용 승인

### 6. 실제 사용 사례

#### SHA-1 (레거시)
- **과거 용도**: SSL/TLS 인증서, Git 커밋 해시
- **현재 상태**: 대부분 SHA-2로 마이그레이션 완료
- **주의사항**: 여전히 일부 레거시 시스템에서 사용

#### SHA-2 (현재 주류)
- **TLS/SSL**: 웹 보안의 표준
- **비트코인**: SHA-256 기반 작업 증명
- **디지털 서명**: RSA, ECDSA와 함께 사용
- **인증서**: X.509 인증서 체계
- **정부 시스템**: FIPS 140-2 준수 시스템

#### SHA-3 (차세대)
- **이더리움**: Keccak-256 (SHA-3 변형) 사용
- **특수 용도**: 높은 보안이 필요한 응용
- **연구 분야**: 포스트 양자 암호학 연구
- **백업 표준**: SHA-2의 보완적 역할

### 7. 설계 철학의 차이

#### Merkle-Damgård 구조 (SHA-0, SHA-1, SHA-2)
- **특징**: 블록 단위 순차 처리
- **장점**: 구현이 간단하고 효율적
- **단점**: 길이 확장 공격에 취약

#### 스펀지 구조 (SHA-3)
- **특징**: 흡수-출력 방식
- **장점**: 길이 확장 공격에 안전, 유연한 출력 길이
- **단점**: 상대적으로 복잡한 구현

### 8. 마이그레이션 가이드라인

#### SHA-1에서 SHA-2로
- **긴급도**: 높음 (이미 완료되어야 함)
- **대상**: 모든 새로운 시스템
- **권장**: SHA-256 이상 사용

#### SHA-2에서 SHA-3로
- **긴급도**: 낮음 (선택적)
- **고려사항**: 
  - 특별한 보안 요구사항
  - 길이 확장 공격 방지 필요
  - 미래 대비 (양자 컴퓨팅)

### 9. 성능 최적화 고려사항

#### 하드웨어별 특성
- **32비트 시스템**: SHA-256이 SHA-512보다 효율적
- **64비트 시스템**: SHA-512가 SHA-256보다 효율적
- **임베디드 시스템**: SHA-256 권장
- **고성능 서버**: SHA-512 또는 SHA-3 고려

#### 구현 최적화
- **SIMD 명령어**: 벡터 연산 활용
- **하드웨어 가속**: AES-NI, SHA 확장 명령어
- **병렬 처리**: 멀티코어 환경에서의 최적화

### 10. 미래 전망

#### 양자 컴퓨팅 시대 대비
- **현재 상태**: SHA-2, SHA-3 모두 양자 컴퓨터에 상대적 안전
- **Grover 알고리즘**: 해시 함수 보안 강도를 절반으로 감소
- **대응 방안**: 출력 길이 증가 (SHA-256 → SHA-512)

#### 새로운 표준 개발
- **포스트 양자 암호학**: NIST 표준화 진행 중
- **경량 암호학**: IoT 환경을 위한 최적화
- **동형 암호**: 암호화된 데이터 처리

## 결론 및 의의

### 기술적 발전
- **보안성 강화**: SHA-0 → SHA-1 → SHA-2 → SHA-3로 지속적 개선
- **다양성 확보**: 서로 다른 설계 원리로 위험 분산
- **표준화**: 국제적으로 인정받는 암호화 표준 제공

### 산업적 영향
- **웹 보안**: 인터넷 보안의 기반 기술
- **블록체인**: 암호화폐와 분산 시스템의 핵심
- **디지털 신뢰**: 디지털 서명과 인증의 기반

### 향후 과제
- **성능 개선**: 하드웨어 가속과 최적화
- **새로운 위협**: 양자 컴퓨팅과 새로운 공격 기법 대응
- **표준 통합**: 다양한 SHA 버전의 효율적 관리

## 참고문헌

- [NIST FIPS PUB 180-4: Secure Hash Standard (SHS)](https://csrc.nist.gov/publications/detail/fips/180/4/final)
- [NIST FIPS PUB 202: SHA-3 Standard](https://csrc.nist.gov/publications/detail/fips/202/final)
- [Wikipedia - Secure Hash Algorithms](https://en.wikipedia.org/wiki/Secure_Hash_Algorithms)
- Stevens, M., et al. "The first collision for full SHA-1" (2017)
- Bertoni, G., et al. "Keccak specifications" (2011)

## 추가 학습 자료

### 공식 문서
- NIST 암호화 표준 문서
- CMVP 검증 가이드라인
- RFC 문서 (SHA 구현 가이드)

### 구현 자료
- OpenSSL SHA 구현
- 하드웨어 가속 라이브러리
- 성능 벤치마크 도구

### 보안 분석
- 암호학적 공격 연구 논문
- 보안 취약점 분석 보고서
- 마이그레이션 가이드

---

> **학습 의의**: SHA 패밀리는 현대 암호학과 정보 보안의 발전사를 보여주는 중요한 사례입니다. SHA-0의 초기 결함부터 SHA-3의 혁신적 설계까지, 지속적인 보안 위협에 대응하는 암호학 표준의 진화 과정을 이해할 수 있으며, 실제 시스템에서의 적용과 마이그레이션 전략을 학습하는 데 중요한 참고 자료가 됩니다. 